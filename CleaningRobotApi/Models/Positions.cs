/* 
 HashSet depend on uniqueness, and we need to define what uniqueness means for our custom objects. 
 By overriding Equals and GetHashCode, we are telling the HashSet to use value equality instead of reference equality to determine uniqueness.
*/ 

namespace TibberCleaningRobotApi.Models
{
    public class Position
    {
        public int X { get; set; }
        public int Y { get; set; }

        public Position(int x, int y)
        {
            X = x;
            Y = y;
        }

        public override bool Equals(object obj)
        {
            return obj is Position position &&
                   X == position.X &&
                   Y == position.Y;
        }

        public override int GetHashCode()
        {
            unchecked // Overflow is fine, just wrap
            {
                int hash = 17;
                hash = hash * 23 + X.GetHashCode();
                hash = hash * 23 + Y.GetHashCode();
                return hash;
            }
        }
    }
}
